/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,(function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){return t=document.createElement(t||"div"),e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)"),e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n&&e.hasOwnProperty(i)||(e[i]=t[i]))},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e,t,n=o.createEl().style,i="",a={};a.oldIE=document.all&&!document.addEventListener,a.touch="ontouchstart"in window,window.requestAnimationFrame&&(a.raf=window.requestAnimationFrame,a.caf=window.cancelAnimationFrame),a.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,a.pointerEvent||(e=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(a.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(a.isOldAndroid=!0),a.androidVersion=t),a.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var r,l,s,c=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],d=0;d<4;d++){i=u[d];for(var m=0;m<3;m++)r=c[m],l=i+(i?r.charAt(0).toUpperCase()+r.slice(1):r),!a[r]&&l in n&&(a[r]=l);i&&!a.raf&&(i=i.toLowerCase(),a.raf=window[i+"RequestAnimationFrame"],a.raf&&(a.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}return a.raf||(s=0,a.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),i=window.setTimeout((function(){e(t+n)}),n);return s=t+n,i},a.caf=function(e){clearTimeout(e)}),a.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=a}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(o=t[l])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var a=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(r,i);var l,s,c,u,d,m,p,f,h,y,x,g,v,w,b,I,C,D,T,M,S,A,E,O,k,R,P,Z,F,L,z,_,N,U,H,Y,W,B,G,X,V,K,q,$,j,J,Q,ee,te,ne,ie,oe,ae,re,le,se,ce={x:0,y:0},ue={x:0,y:0},de={x:0,y:0},me={},pe=0,fe={},he={x:0,y:0},ye=0,xe=!0,ge=[],ve={},we=!1,be=function(e,t){o.extend(a,t.publicMethods),ge.push(e)},Ie=function(e){var t=Ut();return t-1<e?e-t:e<0?t+e:e},Ce={},De=function(e,t){return Ce[e]||(Ce[e]=[]),Ce[e].push(t)},Te=function(e){var t=Ce[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(a,n)}},Me=function(){return(new Date).getTime()},Se=function(e){re=e,a.bg.style.opacity=e*r.bgOpacity},Ae=function(e,t,n,i,o){(!we||o&&o!==a.currItem)&&(i/=(o||a.currItem).fitRatio),e[A]=g+t+"px, "+n+"px"+v+" scale("+i+")"},Ee=function(e){te&&(e&&(y>a.currItem.fitRatio?we||(qt(a.currItem,!1,!0),we=!0):we&&(qt(a.currItem),we=!1)),Ae(te,de.x,de.y,y))},Oe=function(e){e.container&&Ae(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ke=function(e,t){t[A]=g+e+"px, 0px"+v},Re=function(e,t){var n;!r.loop&&t&&(n=u+(he.x*pe-e)/he.x,t=Math.round(e-ct.x),(n<0&&0<t||n>=Ut()-1&&t<0)&&(e=ct.x+t*r.mainScrollEndFriction)),ct.x=e,ke(e,d)},Pe=function(e,t){var n=ut[e]-fe[e];return ue[e]+ce[e]+n-t/x*n},Ze=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Fe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Le=null,ze=function(){Le&&(o.unbind(document,"mousemove",ze),o.addClass(e,"pswp--has_mouse"),r.mouseUsed=!0,Te("mouseUsed")),Le=setTimeout((function(){Le=null}),100)},_e=function(e,t){return e=Gt(a.currItem,me,e),t&&(ee=e),e},Ne=function(e){return(e=e||a.currItem).initialZoomLevel},Ue=function(e){return 0<(e=e||a.currItem).w?r.maxSpreadZoom:1},He=function(e,t,n,i){return i===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Pe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ye=function(e){var t="";r.escKey&&27===e.keyCode?t="close":r.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},We=function(e){e&&(K||V||ne||W)&&(e.preventDefault(),e.stopPropagation())},Be=function(){a.setScrollOffset(0,o.getScrollY())},Ge={},Xe=0,Ve=function(e){Ge[e]&&(Ge[e].raf&&R(Ge[e].raf),Xe--,delete Ge[e])},Ke=function(e){Ge[e]&&Ve(e),Ge[e]||(Xe++,Ge[e]={})},qe=function(){for(var e in Ge)Ge.hasOwnProperty(e)&&Ve(e)},$e=function(e,t,n,i,o,a,r){var l,s=Me();Ke(e);var c=function(){if(Ge[e]){if(l=Me()-s,i<=l)return Ve(e),a(n),void(r&&r());a((n-t)*o(l/i)+t),Ge[e].raf=k(c)}};c()},je=(i={shout:Te,listen:De,viewportSize:me,options:r,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return y},getCurrentIndex:function(){return u},isDragging:function(){return G},isZooming:function(){return J},setScrollOffset:function(e,t){fe.x=e,L=fe.y=t,Te("updateScrollOffset",fe)},applyZoomPan:function(e,t,n,i){de.x=t,de.y=n,y=e,Ee(i)},init:function(){if(!l&&!s){var n;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),P=e.className,l=!0,z=o.detectFeatures(),k=z.raf,R=z.caf,A=z.transform,F=z.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),d=a.container.style,a.itemHolders=I=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],I[0].el.style.display=I[2].el.style.display="none",function(){if(A){var t=z.perspective&&!O;return g="translate"+(t?"3d(":"("),v=z.perspective?", 0px)":")"}A="left",o.addClass(e,"pswp--ie"),ke=function(e,t){t.left=e+"px"},Oe=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w;t*=e.h;n.width=i+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ee=function(){var e,t,n,i;te&&(e=te,n=(t=1<(i=a.currItem).fitRatio?1:i.fitRatio)*i.w,i=t*i.h,e.width=n+"px",e.height=i+"px",e.left=de.x+"px",e.top=de.y+"px")}}(),h={resize:a.updateSize,orientationchange:function(){clearTimeout(_),_=setTimeout((function(){me.x!==a.scrollWrap.clientWidth&&a.updateSize()}),500)},scroll:Be,keydown:Ye,click:We};var i=z.isOldIOSPhone||z.isOldAndroid||z.isMobileOpera;for(z.animationName&&z.transform&&!i||(r.showAnimationDuration=r.hideAnimationDuration=0),n=0;n<ge.length;n++)a["init"+ge[n]]();for(t&&(a.ui=new t(a,o)).init(),Te("firstUpdate"),u=u||r.index||0,(isNaN(u)||u<0||u>=Ut())&&(u=0),a.currItem=Nt(u),(z.isOldIOSPhone||z.isOldAndroid)&&(xe=!1),e.setAttribute("aria-hidden","false"),r.modal&&(xe?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===L&&(Te("initialLayout"),L=Z=o.getScrollY()),i="pswp--open ",r.mainClass&&(i+=r.mainClass+" "),r.showHideOpacity&&(i+="pswp--animate_opacity "),i+=O?"pswp--touch":"pswp--notouch",i+=z.animationName?" pswp--css_animation":"",i+=z.svg?" pswp--svg":"",o.addClass(e,i),a.updateSize(),m=-1,ye=null,n=0;n<3;n++)ke((n+m)*he.x,I[n].el.style);F||o.bind(a.scrollWrap,f,a),De("initialZoomInEnd",(function(){a.setContent(I[0],u-1),a.setContent(I[2],u+1),I[0].el.style.display=I[2].el.style.display="block",r.focus&&e.focus(),o.bind(document,"keydown",a),z.transform&&o.bind(a.scrollWrap,"click",a),r.mouseUsed||o.bind(document,"mousemove",ze),o.bind(window,"resize scroll orientationchange",a),Te("bindEvents")})),a.setContent(I[1],u),a.updateCurrItem(),Te("afterInit"),xe||(w=setInterval((function(){Xe||G||J||y!==a.currItem.initialZoomLevel||a.updateSize()}),1e3)),o.addClass(e,"pswp--visible")}},close:function(){l&&(s=!(l=!1),Te("close"),o.unbind(window,"resize scroll orientationchange",a),o.unbind(window,"scroll",h.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",ze),z.transform&&o.unbind(a.scrollWrap,"click",a),G&&o.unbind(window,p,a),clearTimeout(_),Te("unbindEvents"),Ht(a.currItem,null,!0,a.destroy))},destroy:function(){Te("destroy"),Ft&&clearTimeout(Ft),e.setAttribute("aria-hidden","true"),e.className=P,w&&clearInterval(w),o.unbind(a.scrollWrap,f,a),o.unbind(window,"scroll",a),pt(),qe(),Ce=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),de.x=e,de.y=t,Ee()},handleEvent:function(e){e=e||window.event,h[e.type]&&h[e.type](e)},goTo:function(e){var t=(e=Ie(e))-u;ye=t,u=e,a.currItem=Nt(u),pe-=t,Re(he.x*pe),qe(),ne=!1,a.updateCurrItem()},next:function(){a.goTo(u+1)},prev:function(){a.goTo(u-1)},updateCurrZoomItem:function(e){var t;e&&Te("beforeChange",0),te=I[1].el.children.length?(t=I[1].el.children[0],o.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,ee=a.currItem.bounds,x=y=a.currItem.initialZoomLevel,de.x=ee.center.x,de.y=ee.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)I[e].item&&(I[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ye){var t,n=Math.abs(ye);if(!(e&&n<2)){a.currItem=Nt(u),we=!1,Te("beforeChange",ye),3<=n&&(m+=ye+(0<ye?-3:3),n=3);for(var i=0;i<n;i++)0<ye?(t=I.shift(),I[2]=t,ke((2+ ++m)*he.x,t.el.style),a.setContent(t,u-n+i+1+1)):(t=I.pop(),I.unshift(t),ke(--m*he.x,t.el.style),a.setContent(t,u+n-i-1-1));!te||1!==Math.abs(ye)||(e=Nt(C)).initialZoomLevel!==y&&(Gt(e,me),qt(e),Oe(e)),ye=0,a.updateCurrZoomItem(),C=u,Te("afterChange")}}},updateSize:function(t){if(!xe&&r.modal){var n=o.getScrollY();if(L!==n&&(e.style.top=n+"px",L=n),!t&&ve.x===window.innerWidth&&ve.y===window.innerHeight)return;ve.x=window.innerWidth,ve.y=window.innerHeight,e.style.height=ve.y+"px"}if(me.x=a.scrollWrap.clientWidth,me.y=a.scrollWrap.clientHeight,Be(),he.x=me.x+Math.round(me.x*r.spacing),he.y=me.y,Re(he.x*pe),Te("beforeResize"),void 0!==m){for(var i,l,s,c=0;c<3;c++)i=I[c],ke((c+m)*he.x,i.el.style),s=u+c-1,r.loop&&2<Ut()&&(s=Ie(s)),(l=Nt(s))&&(b||l.needsUpdate||!l.bounds)?(a.cleanSlide(l),a.setContent(i,s),1===c&&(a.currItem=l,a.updateCurrZoomItem(!0)),l.needsUpdate=!1):-1===i.index&&0<=s&&a.setContent(i,s),l&&l.container&&(Gt(l,me),qt(l),Oe(l));b=!1}x=y=a.currItem.initialZoomLevel,(ee=a.currItem.bounds)&&(de.x=ee.center.x,de.y=ee.center.y,Ee(!0)),Te("resize")},zoomTo:function(e,t,n,i,a){t&&(x=y,ut.x=Math.abs(t.x)-de.x,ut.y=Math.abs(t.y)-de.y,Ze(ue,de));t=_e(e,!1);var r={};He("x",t,r,e),He("y",t,r,e);var l=y,s=de.x,c=de.y;Fe(r),t=function(t){1===t?(y=e,de.x=r.x,de.y=r.y):(y=(e-l)*t+l,de.x=(r.x-s)*t+s,de.y=(r.y-c)*t+c),a&&a(t),Ee(1===t)},n?$e("customZoomTo",0,1,n,i||o.easing.sine.inOut,t):t(1)}},{}),Je={},Qe={},et={},tt={},nt=[],it={},ot=[],at={},rt=0,lt={x:0,y:0},st=0,ct={x:0,y:0},ut={x:0,y:0},dt={x:0,y:0},mt=function(e,t){return at.x=Math.abs(e.x-t.x),at.y=Math.abs(e.y-t.y),Math.sqrt(at.x*at.x+at.y*at.y)},pt=function(){q&&(R(q),q=null)},ft=function(){G&&(q=k(ft),At())},ht=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:ht(e.parentNode,t))},yt={},xt=function(e,t){return yt.prevent=!ht(e.target,r.isClickableElement),Te("preventDragEvent",e,t,yt),yt.prevent},gt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},vt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},wt=function(){var e=de.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},bt={},It={},Ct=[],Dt=function(e){for(;0<Ct.length;)Ct.pop();return E?(se=0,nt.forEach((function(e){0===se?Ct[0]=e:1===se&&(Ct[1]=e),se++}))):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Ct[0]=gt(e.touches[0],bt),1<e.touches.length&&(Ct[1]=gt(e.touches[1],It))):(bt.x=e.pageX,bt.y=e.pageY,bt.id="",Ct[0]=bt),Ct},Tt=function(e,t){var n,i,o,l=de[e]+t[e],s=0<t[e],c=ct.x+t.x,u=ct.x-it.x,d=l>ee.min[e]||l<ee.max[e]?r.panEndFriction:1;l=de[e]+t[e]*d;if((r.allowPanToNext||y===a.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||V||(s?(l>ee.min[e]&&(d=r.panEndFriction,ee.min[e],n=ee.min[e]-ue[e]),(n<=0||u<0)&&1<Ut()?(o=c,u<0&&c>it.x&&(o=it.x)):ee.min.x!==ee.max.x&&(i=l)):(l<ee.max[e]&&(d=r.panEndFriction,ee.max[e],n=ue[e]-ee.max[e]),(n<=0||0<u)&&1<Ut()?(o=c,0<u&&c<it.x&&(o=it.x)):ee.min.x!==ee.max.x&&(i=l))):o=c,"x"===e))return void 0!==o&&(Re(o,!0),$=o!==it.x),ee.min.x!==ee.max.x&&(void 0!==i?de.x=i:$||(de.x+=t.x*d)),void 0!==o;ne||$||y>a.currItem.fitRatio&&(de[e]+=t[e]*d)},Mt=function(e){var t;"mousedown"===e.type&&0<e.button||(_t?e.preventDefault():B&&"mousedown"===e.type||(xt(e,!0)&&e.preventDefault(),Te("pointerDown"),E&&((t=o.arraySearch(nt,e.pointerId,"id"))<0&&(t=nt.length),nt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Dt(e)).length,j=null,qe(),G&&1!==e||(G=oe=!0,o.bind(window,p,a),Y=le=ae=W=$=K=X=V=!1,ie=null,Te("firstTouchStart",t),Ze(ue,de),ce.x=ce.y=0,Ze(et,t[0]),Ze(tt,et),it.x=he.x*pe,ot=[{x:et.x,y:et.y}],U=N=Me(),_e(y,!0),pt(),ft()),!J&&1<e&&!ne&&!$&&(x=y,J=X=!(V=!1),ce.y=ce.x=0,Ze(ue,de),Ze(je,t[0]),Ze(Je,t[1]),vt(je,Je,dt),ut.x=Math.abs(dt.x)-de.x,ut.y=Math.abs(dt.y)-de.y,Q=mt(je,Je))))},St=function(e){var t,n;e.preventDefault(),!E||-1<(t=o.arraySearch(nt,e.pointerId,"id"))&&((n=nt[t]).x=e.pageX,n.y=e.pageY),G&&(n=Dt(e),ie||K||J?j=n:ct.x!==he.x*pe?ie="h":(e=Math.abs(n[0].x-et.x)-Math.abs(n[0].y-et.y),10<=Math.abs(e)&&(ie=0<e?"h":"v",j=n)))},At=function(){if(j){var e,t,n,i,o,l=j.length;if(0!==l)if(Ze(je,j[0]),Qe.x=je.x-et.x,Qe.y=je.y-et.y,J&&1<l)et.x=je.x,et.y=je.y,(Qe.x||Qe.y||(i=j[1],o=Je,i.x!==o.x||i.y!==o.y))&&(Ze(Je,j[1]),V||(V=!0,Te("zoomGestureStarted")),t=mt(je,Je),(n=Pt(t))>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(le=!0),e=1,l=Ne(),i=Ue(),n<l?r.pinchToClose&&!le&&x<=a.currItem.initialZoomLevel?(Se(o=1-(l-n)/(l/1.2)),Te("onPinchClose",o),ae=!0):(1<(e=(l-n)/l)&&(e=1),n=l-e*(l/3)):i<n&&(1<(e=(n-i)/(6*l))&&(e=1),n=i+e*l),e<0&&(e=0),vt(je,Je,lt),ce.x+=lt.x-dt.x,ce.y+=lt.y-dt.y,Ze(dt,lt),de.x=Pe("x",n),de.y=Pe("y",n),Y=y<n,y=n,Ee());else if(ie&&(oe&&(oe=!1,10<=Math.abs(Qe.x)&&(Qe.x-=j[0].x-tt.x),10<=Math.abs(Qe.y)&&(Qe.y-=j[0].y-tt.y)),et.x=je.x,et.y=je.y,0!==Qe.x||0!==Qe.y)){if("v"===ie&&r.closeOnVerticalDrag&&"fit"===r.scaleMode&&y===a.currItem.initialZoomLevel){ce.y+=Qe.y,de.y+=Qe.y;var s=wt();return W=!0,Te("onVerticalDrag",s),Se(s),void Ee()}e=Me(),t=je.x,n=je.y,50<e-U&&((s=2<ot.length?ot.shift():{}).x=t,s.y=n,ot.push(s),U=e),K=!0,ee=a.currItem.bounds,Tt("x",Qe)||(Tt("y",Qe),Fe(de),Ee())}}},Et=function(e){if(z.isOldAndroid){if(B&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(B),B=setTimeout((function(){B=0}),600))}Te("pointerUp"),xt(e,!1)&&e.preventDefault(),!E||-1<(n=o.arraySearch(nt,e.pointerId,"id"))&&(s=nt.splice(n,1)[0],navigator.msPointerEnabled?(s.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],s.type||(s.type=e.pointerType||"mouse")):s.type=e.pointerType||"mouse");var t=Dt(e),n=t.length;if("mouseup"===e.type&&(n=0),2===n)return!(j=null);1===n&&Ze(tt,t[0]),0!==n||ie||ne||(s||("mouseup"===e.type?s={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(s={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,s));var i,l,s=-1;if(0===n&&(G=!1,o.unbind(window,p,a),pt(),J?s=0:-1!==st&&(s=Me()-st)),st=1===n?Me():-1,s=-1!==s&&s<150?"zoom":"swipe",J&&n<2&&(J=!1,1===n&&(s="zoomPointerUp"),Te("zoomGestureEnded")),j=null,K||V||ne||W)if(qe(),(H=H||Ot()).calculateSwipeSpeed("x"),W)wt()<r.verticalDragRange?a.close():(i=de.y,l=re,$e("verticalDrag",0,1,300,o.easing.cubic.out,(function(e){de.y=(a.currItem.initialPosition.y-i)*e+i,Se((1-l)*e+l),Ee()})),Te("onVerticalDrag",1));else{if(($||ne)&&0===n){if(Rt(s,H))return;s="zoomPointerUp"}ne||("swipe"===s?!$&&y>a.currItem.fitRatio&&kt(H):Zt())}},Ot=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){t=1<ot.length?(e=Me()-U+50,ot[ot.length-2][i]):(e=Me()-N,tt[i]),n.lastFlickOffset[i]=et[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),20<n.lastFlickDist[i]?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(de[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:de[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,$e("bounceZoomPan"+e,de[e],n.backAnimDestination[e],t||300,o.easing.sine.out,(function(t){de[e]=t,Ee()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,de[e]+=n.distanceOffset[e])},panAnimLoop:function(){Ge.zoomPan&&(Ge.zoomPan.raf=k(n.panAnimLoop),n.now=Me(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ee(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05&&(de.x=Math.round(de.x),de.y=Math.round(de.y),Ee(),Ve("zoomPan")))}};return n},kt=function(e){if(e.calculateSwipeSpeed("y"),ee=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ke("zoomPan"),e.lastNow=Me(),e.panAnimLoop()},Rt=function(e,t){var n,i;ne||(rt=u),"swipe"===e&&(i=et.x-tt.x,e=t.lastFlickDist.x<10,30<i&&(e||20<t.lastFlickOffset.x)?s=-1:i<-30&&(e||t.lastFlickOffset.x<-20)&&(s=1)),s&&((u+=s)<0?(u=r.loop?Ut()-1:0,l=!0):u>=Ut()&&(u=r.loop?0:Ut()-1,l=!0),l&&!r.loop||(ye+=s,pe-=s,n=!0));var l=he.x*pe,s=Math.abs(l-ct.x),c=n||l>ct.x==0<t.lastFlickSpeed.x?(c=0<Math.abs(t.lastFlickSpeed.x)?s/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),Math.max(c,250)):333;return rt===u&&(n=!1),ne=!0,Te("mainScrollAnimStart"),$e("mainScroll",ct.x,l,c,o.easing.cubic.out,Re,(function(){qe(),ne=!1,rt=-1,!n&&rt===u||a.updateCurrItem(),Te("mainScrollAnimComplete")})),n&&a.updateCurrItem(!0),n},Pt=function(e){return 1/Q*e*x},Zt=function(){var e=y,t=Ne(),n=Ue();y<t?e=t:n<y&&(e=n);var i,r=re;return ae&&!Y&&!le&&y<t?a.close():(ae&&(i=function(e){Se((1-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,i)),!0};be("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){D=e+t,T=e+n,M=e+i,S=o?e+o:""};(E=z.pointerEvent)&&z.touch&&(z.touch=!1),E?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):z.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),p=T+" "+M+" "+S,f=D,E&&!O&&(O=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),a.likelyTouchDevice=O,h[D]=Mt,h[T]=St,h[M]=Et,S&&(h[S]=h[M]),z.touch&&(f+=" mousedown",p+=" mousemove mouseup",h.mousedown=h[D],h.mousemove=h[T],h.mouseup=h[M]),O||(r.allowPanToNext=!1)}}});var Ft,Lt,zt,_t,Nt,Ut,Ht=function(t,n,i,l){var s;Ft&&clearTimeout(Ft),zt=_t=!0,t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=r.getThumbBoundsFn&&r.getThumbBoundsFn(u);var d,m,p=i?r.hideAnimationDuration:r.showAnimationDuration,f=function(){Ve("initialZoom"),i?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Se(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Te("initialZoom"+(i?"OutEnd":"InEnd"))),l&&l(),_t=!1};if(!p||!s||void 0===s.x)return Te("initialZoom"+(i?"Out":"In")),y=t.initialZoomLevel,Ze(de,t.initialPosition),Ee(),e.style.opacity=i?0:1,Se(1),void(p?setTimeout((function(){f()}),p):f());d=c,m=!a.currItem.src||a.currItem.loadError||r.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(y=s.w/t.w,de.x=s.x,de.y=s.y-Z,a[m?"template":"bg"].style.opacity=.001,Ee()),Ke("initialZoom"),i&&!d&&o.removeClass(e,"pswp--animated-in"),m&&(i?o[(d?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){o.addClass(e,"pswp--animate_opacity")}),30)),Ft=setTimeout((function(){var n,a,r,l,c,u;Te("initialZoom"+(i?"Out":"In")),i?(n=s.w/t.w,a=de.x,r=de.y,l=y,c=re,u=function(t){1===t?(y=n,de.x=s.x,de.y=s.y-L):(y=(n-l)*t+l,de.x=(s.x-a)*t+a,de.y=(s.y-L-r)*t+r),Ee(),m?e.style.opacity=1-t:Se(c-t*c)},d?$e("initialZoom",0,1,p,o.easing.cubic.out,u,f):(u(1),Ft=setTimeout(f,p+20))):(y=t.initialZoomLevel,Ze(de,t.initialPosition),Ee(),Se(1),m?e.style.opacity=1:Se(1),Ft=setTimeout(f,p+20))}),i?25:90)},Yt={},Wt=[],Bt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Lt.length}},Gt=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds;var i,o,a,l=!n;return l&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),Yt.x=t.x,Yt.y=t.y-e.vGap.top-e.vGap.bottom,l&&(i=Yt.x/e.w,o=Yt.y/e.h,e.fitRatio=i<o?i:o,"orig"===(a=r.scaleMode)?n=1:"fit"===a&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})),n?(i=(t=e).w*n,o=e.h*n,(a=t.bounds).center.x=Math.round((Yt.x-i)/2),a.center.y=Math.round((Yt.y-o)/2)+t.vGap.top,a.max.x=i>Yt.x?Math.round(Yt.x-i):a.center.x,a.max.y=o>Yt.y?Math.round(Yt.y-o)+t.vGap.top:a.center.y,a.min.x=i>Yt.x?0:a.center.x,a.min.y=o>Yt.y?t.vGap.top:a.center.y,l&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},Xt=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,qt(t,i,t===a.currItem&&we),n.appendChild(i),r&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Vt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t.alt=e.alt||"",t},Kt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=r.errorMsg.replace("%url%",e.src),!0},qt=function(e,t,n){var i;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=n+"px"),t.style.width=i+"px",t.style.height=n+"px")},$t=function(){if(Wt.length){for(var e,t=0;t<Wt.length;t++)(e=Wt[t]).holder.index===e.index&&Xt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Wt=[]}};be("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ie(e);var t=Nt(e);t&&(!t.loaded&&!t.loading||b)&&(Te("gettingData",e,t),t.src&&Vt(t))},initController:function(){o.extend(r,Bt,!0),a.items=Lt=n,Nt=a.getItemAt,Ut=r.getNumItemsFn,r.loop,Ut()<3&&(r.loop=!1),De("beforeChange",(function(e){for(var t=r.preload,n=null===e||0<=e,i=Math.min(t[0],Ut()),o=Math.min(t[1],Ut()),l=1;l<=(n?o:i);l++)a.lazyLoadItem(u+l);for(l=1;l<=(n?i:o);l++)a.lazyLoadItem(u-l)})),De("initialLayout",(function(){a.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(u)})),De("mainScrollAnimComplete",$t),De("initialZoomInEnd",$t),De("destroy",(function(){for(var e,t=0;t<Lt.length;t++)(e=Lt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Wt=null}))},getItemAt:function(e){return 0<=e&&void 0!==Lt[e]&&Lt[e]},allowProgressiveImg:function(){return r.forceProgressiveLoading||!O||r.mouseUsed||1200<screen.width},setContent:function(e,t){r.loop&&(t=Ie(t));var n=a.getItemAt(e.index);n&&(n.container=null);var i,s,c=a.getItemAt(t);c?(Te("gettingData",t,c),e.index=t,s=(e.item=c).container=o.createEl("pswp__zoom-wrap"),!c.src&&c.html&&(c.html.tagName?s.appendChild(c.html):s.innerHTML=c.html),Kt(c),Gt(c,me),!c.src||c.loadError||c.loaded?c.src&&!c.loadError&&((i=o.createEl("pswp__img","img")).style.opacity=1,i.src=c.src,qt(c,i),Xt(0,c,s,i)):(c.loadComplete=function(n){if(l){if(e&&e.index===t){if(Kt(n,!0))return n.loadComplete=n.img=null,Gt(n,me),Oe(n),void(e.index===u&&a.updateCurrZoomItem());n.imageAppended?!_t&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):z.transform&&(ne||_t)?Wt.push({item:n,baseDiv:s,img:n.img,index:t,holder:e,clearPlaceholder:!0}):Xt(0,n,s,n.img,0,!0)}n.loadComplete=null,n.img=null,Te("imageLoadComplete",t,n)}},o.features.transform&&(n="pswp__img pswp__img--placeholder",n+=c.msrc?"":" pswp__img--placeholder--blank",n=o.createEl(n,c.msrc?"img":""),c.msrc&&(n.src=c.msrc),qt(c,n),s.appendChild(n),c.placeholder=n),c.loading||Vt(c),a.allowProgressiveImg()&&(!zt&&z.transform?Wt.push({item:c,baseDiv:s,img:c.img,index:t,holder:e}):Xt(0,c,s,c.img,0,!0))),zt||t!==u?Oe(c):(te=s.style,Ht(c,i||c.img)),e.el.innerHTML="",e.el.appendChild(s)):e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var jt,Jt,Qt={},en=function(e,t,n){var i=document.createEvent("CustomEvent");n={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,n),e.target.dispatchEvent(i)};be("Tap",{publicMethods:{initTap:function(){De("firstTouchStart",a.onTapStart),De("touchRelease",a.onTapRelease),De("destroy",(function(){Qt={},jt=null}))},onTapStart:function(e){1<e.length&&(clearTimeout(jt),jt=null)},onTapRelease:function(e,t){var n,i,a;t&&(K||X||Xe||(n=t,jt&&(clearTimeout(jt),jt=null,i=n,a=Qt,Math.abs(i.x-a.x)<25&&Math.abs(i.y-a.y)<25)?Te("doubleTap",n):"mouse"!==t.type?"BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap")?en(e,t):(Ze(Qt,n),jt=setTimeout((function(){en(e,t),jt=null}),300)):en(e,t,"mouse")))}}}),be("DesktopZoom",{publicMethods:{initDesktopZoom:function(){F||(O?De("mouseUsed",(function(){a.setupDesktopZoom()})):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";De("bindEvents",(function(){o.bind(e,n,a.handleMouseWheel)})),De("unbindEvents",(function(){Jt&&o.unbind(e,n,a.handleMouseWheel)})),a.mouseZoomedIn=!1;var i,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),y<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),l()},l=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};De("resize",r),De("afterChange",r),De("pointerDown",(function(){a.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))})),De("pointerUp",l),t||r()},handleMouseWheel:function(e){if(y<=a.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||Xe||G?e.preventDefault():A&&2<Math.abs(e.deltaY)&&(c=!0,a.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}_e(y,!0);var t=de.x-Jt.x,n=de.y-Jt.y;(r.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+fe.x,y:me.y/2+fe.y};var n=r.getDoubleTapZoom(!0,a.currItem),i=y===n;a.mouseZoomedIn=!i,a.zoomTo(i?a.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var tn,nn,on,an,rn,ln,sn,cn,un,dn,mn,pn,fn={history:!0,galleryUID:1},hn=function(){return mn.hash.substring(1)},yn=function(){tn&&clearTimeout(tn),on&&clearTimeout(on)},xn=function(){var e=hn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(a=0;a<i.length;a++)i[a]&&((n=i[a].split("=")).length<2||(t[n[0]]=n[1]));if(r.galleryPIDs){for(var o=t.pid,a=t.pid=0;a<Lt.length;a++)if(Lt[a].pid===o){t.pid=a;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},gn=function(){var e,t;on&&clearTimeout(on),Xe||G?on=setTimeout(gn,500):(an?clearTimeout(nn):an=!0,t=u+1,(e=Nt(u)).hasOwnProperty("pid")&&(t=e.pid),e=sn+"&gid="+r.galleryUID+"&pid="+t,cn||-1===mn.hash.indexOf(e)&&(dn=!0),t=mn.href.split("#")[0]+"#"+e,pn?"#"+e!==window.location.hash&&history[cn?"replaceState":"pushState"]("",document.title,t):cn?mn.replace(t):mn.hash=e,cn=!0,nn=setTimeout((function(){an=!1}),60))};be("History",{publicMethods:{initHistory:function(){var e,t;o.extend(r,fn,!0),r.history&&(mn=window.location,cn=un=dn=!1,sn=hn(),pn="pushState"in history,-1<sn.indexOf("gid=")&&(sn=(sn=sn.split("&gid=")[0]).split("?gid=")[0]),De("afterChange",a.updateURL),De("unbindEvents",(function(){o.unbind(window,"hashchange",a.onHashChange)})),e=function(){ln=!0,un||(dn?history.back():sn?mn.hash=sn:pn?history.pushState("",document.title,mn.pathname+mn.search):mn.hash=""),yn()},De("unbindEvents",(function(){c&&e()})),De("destroy",(function(){ln||e()})),De("firstUpdate",(function(){u=xn().pid})),-1<(t=sn.indexOf("pid="))&&"&"===(sn=sn.substring(0,t)).slice(-1)&&(sn=sn.slice(0,-1)),setTimeout((function(){l&&o.bind(window,"hashchange",a.onHashChange)}),40))},onHashChange:function(){if(hn()===sn)return un=!0,void a.close();an||(rn=!0,a.goTo(xn().pid),rn=!1)},updateURL:function(){yn(),rn||(cn?tn=setTimeout(gn,800):gn())}}}),o.extend(a,i)}}));